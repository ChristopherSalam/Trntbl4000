<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>trntbl4000</title>
  <!-- Latest compiled and minified CSS -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="styles/style.css">
  <!-- Latest compiled and minified JavaScript -->
  <link async href="http://fonts.googleapis.com/css?family=Monoton" data-generated="http://enjoycss.com" rel="stylesheet" type="text/css" />
<!--Slider Specific Stuff-->
  <link href="styles/bootstrap.min.css" rel="stylesheet">
  <link href="styles/slider.css" rel="stylesheet">
  <link href="styles/jquery-ui.custom.min.css" rel="stylesheet">
  <link href="styles/app.css" rel="stylesheet">
</head>

<body>
  <!-- header -->
  <div class="night-hotel">
    <center>
      <h1 id="airHorn" style="font-family:Monoton; color:#fff" id="logo">trntbl4000</h1>
    </center>
  </div>
    
<!--Slider Specific Stuff-->
    <div class="container-fluid content">
      <div class="row">
        <iframe class="col-xs-6 player"
                id="player1" type="text/html" width="640" height="390"
                src="http://www.youtube.com/embed/ftLxvw_eFN0?enablejsapi=1" frameborder="0"></iframe>

        <iframe class="col-xs-6 player"
                id="player2" type="text/html" width="640" height="390"
                src="http://www.youtube.com/embed/ftLxvw_eFN0?enablejsapi=1" frameborder="0"></iframe>
      </div>

      <div class="col-xs-12">
        <div class="col-xs-12">
          <input id="volume-slider" type="text" value=""
               data-slider-min="-100" data-slider-max="100" data-slider-step="1" data-slider-value="0"
               data-slider-orientation="horizontal" data-slider-selection="after" data-slider-tooltip="hide"
               data-slider-handle="triangle">
        </div>

      <div id="volume-slider-state" class="col-xs-12">0%</div>
      </div>

  <div class="row">
    <!-- song queue for the left turntable -->
    <div>
      <input type='text' placeholder="Search YouTube" id='searchTxt'></input>
      <button id = 'searchBtn' onclick='search()'>Search</button>
      <div id="results">
    </div>
      <!-- Captures input and calls YouTube API -->
      <script>
      function init(){      
      var search = function(input){
        $('#results').html('')
        var input = $('#searchTxt').val();
        gapi.client.request({
          path:'/youtube/v3/search',
          params: {
            part: 'snippet',
            maxResults: 10,
            q: input
          }
        }).then(function(data){
          console.log('DATATATA: ', data)
          var items = data.result.items;
          for(var i = 0; i < items.length; i++){
            var url = data.result.items[i].snippet.thumbnails.default.url;
            var id = data.result.items[i].id.videoId;
            $('#results').append('<br/>');
            $('#results').append('<a href="#"><img src="' + url + '"/></a>');
            $('#results').append('<p>' + items[i].snippet.title+'</p>');
            $('#results').append('<p>' + items[i].snippet.description + '</p>');
            $('#results').append('<button onclick="makePlayerA(\'' + id + '\')">Deck A</button>');
            $('#results').append('<button onclick="makePlayerB(\'' + id + '\')">Deck B</button>');
            };
          });
        $('#searchTxt').val('');
      };

      var makePlayerA = function (idA) {
        $('#player1').attr('src', "http://www.youtube.com/embed/" + idA + "?enablejsapi=1");
      };

      var makePlayerB = function (idB) {
        $('#player2').attr('src', "http://www.youtube.com/embed/" + idB + "?enablejsapi=1");
      };

      </script>
    </div>
  </div>
  <script>

$(document).ready(function() {
  $(function() {
    $("<audio></audio>").attr({
      src: 'assets/airHorn_1.mp3',
      autoplay: 'autoplay'
    });
  });
  $('#airHorn').click(function() {
    $("<audio></audio>").attr({
      src: 'assets/airHorn_1.mp3',
      autoplay: 'autoplay'
    });
  });
});

  </script>
<!-- Access the Google JavaScript Library -->
  <script type="text/javascript" src="https://apis.google.com/js/client.js?onload=init"></script>
  <script type="text/javascript" src="https://apis.google.com/js/client.js?onload=OnLoadCallback"></script>
<!--Slider Specific Stuff-->
  <script type="text/javascript" src="scripts/jquery-ui.custom.min.js"></script>
  <script type="text/javascript" src="scripts/bootstrap.min.js"></script>
  <script type="text/javascript" src="scripts/bootstrap-slider.min.js"></script>
  <script type="text/javascript" src="scripts/app.js"></script>
<!--Slider Specific Stuff-->

</body>
</html>